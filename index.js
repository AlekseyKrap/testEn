(()=>{let t="adsbyxoalt",e="xoalt-data-id",r="xoalt_local_id";function n(){let t=new Uint8Array(8);return crypto.getRandomValues(t),Array.from(t,t=>t.toString(16).padStart(2,"0")).join("")}function a(t){if(t.innerHTML.trim().length>0)return null;let r=t.getAttribute(e);r||(r=n(),t.setAttribute(e,r));let a=window.getComputedStyle(t),o=parseInt(a.width)||0,i=parseInt(a.height)||0,l=t.getAttribute("xoalt-data-spot");return l?{id:r,element:t,width:o,height:i,placementId:l}:(console.warn(`Element with ID ${r} does not have a placement ID.`),null)}async function o(){try{let t=await fetch("https://sync.bumlam.com/?src=etg1",{credentials:"include",mode:"cors"}),e=await t.text(),r="string"==typeof e?e.substring(e.lastIndexOf("= '")+3,e.lastIndexOf("';")):void 0;return r?.includes("#")?r.split("#")[0]:r}catch(t){return}}async function i(t){let e=new AbortController,r=setTimeout(()=>e.abort(),5e3);try{let n=await fetch("https://h.xoalt.com/x-simb-web/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",body:JSON.stringify(t),signal:e.signal});if(clearTimeout(r),!n.ok)throw Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(t){if(clearTimeout(r),t instanceof Error&&"AbortError"===t.name)return console.warn("Request timed out or aborted."),{bids:[]};throw t}}function l({blocks:t,localId:e,uid3:r}){return{id:n(),imp:t.map(t=>({id:t.id,banner:{format:[{w:t.width,h:t.height}]},ext:{placementid:t.placementId}})),site:{page:window.location.href},device:{ua:navigator.userAgent},user:{eids:r?[]:[{source:"1stcookie",uids:[e]}],id:r}}}function s(t,e){if(!t.bids||!Array.isArray(t.bids))return;let r=new Map(e.map(t=>[t.id,t]));t.bids.forEach(t=>{let e=r.get(t.id);if(!e||1!==t.mtype)return;let n=document.createElement("iframe");n.width=t.size.width+"px",n.height=t.size.height+"px",n.src="data:text/html;charset=utf-8,"+encodeURI(t.adm),n.style.border="0",e.element.appendChild(n),e.element.setAttribute("xoalt-data-status","filled")})}!async function(){let e;let d=await o(),c=function(){let e=document.querySelectorAll(`.${t}`),r=[];return e.forEach(t=>{let e=a(t);e&&r.push(e)}),r}(),u=((e=localStorage.getItem(r))||(e=n(),localStorage.setItem(r,e)),e);if(new MutationObserver(async e=>{let r=[];if(console.log("MutationObserver triggered"),e.forEach(e=>{e.addedNodes.forEach(e=>{e instanceof HTMLElement&&(e.classList.contains(t)||e.querySelector(`.${t}`))&&r.push(e)})}),!r.length)return;let n=[];if(r.forEach(t=>{let e=a(t);e&&n.push(e)}),0===n.length)return;let o=l({blocks:n,localId:u,uid3:d});s(await i(o),n)}).observe(document.body,{childList:!0,subtree:!0}),0===c.length){console.warn("No unfilled ad blocks found.");return}let h=l({blocks:c,localId:u,uid3:d});s(await i(h),c)}()})();